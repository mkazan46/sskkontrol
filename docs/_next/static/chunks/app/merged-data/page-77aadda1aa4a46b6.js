(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[306],{148:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>g});var t=a(5155),l=a(2115),i=a(5695),s=a(285),n=a(5508),o=a(8186),c=a(4301),m=a(172),d=a(3497),x=a(7481),u=a(6695),h=a(451);function g(){let e=(0,i.useRouter)(),{toast:r}=(0,x.dj)(),[a,g]=(0,l.useState)(null),[p,f]=(0,l.useState)(!0),[b,y]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let e=localStorage.getItem("mergedExcelData");if(e)try{let a=JSON.parse(e);a&&Array.isArray(a.headers)&&Array.isArray(a.rows)?g(a):(r({variant:"destructive",title:"Hata",description:"Saklanan birleştirilmiş veriler bozuk veya ge\xe7ersiz formatta."}),localStorage.removeItem("mergedExcelData"))}catch(e){console.error("Error parsing merged data from localStorage:",e),r({variant:"destructive",title:"Veri Y\xfckleme Hatası",description:"Saklanan veriler okunurken bir sorun oluştu."}),localStorage.removeItem("mergedExcelData")}f(!1)},[r]);let v=()=>{localStorage.removeItem("mergedExcelData"),localStorage.removeItem("deletionAnalysisFullResults"),e.push("/")},w=async()=>{if(!a){r({variant:"warning",title:"Veri Yok",description:"Analiz edilecek birleştirilmiş veri bulunmuyor."});return}y(!0),r({variant:"default",title:"Analiz Başlatıldı",description:"Silme kayıtları analiz ediliyor, l\xfctfen bekleyin..."});try{await new Promise(e=>setTimeout(e,0));let t=await (0,h.jW)(a);localStorage.setItem("deletionAnalysisFullResults",JSON.stringify(t)),r({variant:"default",title:"Analiz Tamamlandı",description:"Veriler işlendi. Sonu\xe7lar yeni sayfada g\xf6steriliyor."}),e.push("/deletion-analysis")}catch(e){console.error("Error during deletion analysis trigger:",e),r({variant:"destructive",title:"Analiz Sırasında Hata",description:"Bir hata oluştu: ".concat(e instanceof Error?e.message:String(e))})}finally{y(!1)}};return(0,t.jsxs)("div",{className:"flex flex-col min-h-screen bg-gradient-to-br from-background to-muted/20",children:[(0,t.jsx)("header",{className:"sticky top-0 z-30 w-full bg-card/95 backdrop-blur-md shadow-lg border-b border-border/60",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between h-20",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(s.$,{onClick:()=>e.push("/"),variant:"ghost",size:"icon",className:"mr-2 text-primary hover:bg-primary/10",title:"Ana Sayfa",children:(0,t.jsx)(o.A,{className:"h-6 w-6"})}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-primary tracking-tight",children:"Birleştirilmiş Veri Sonu\xe7ları"})]}),(0,t.jsx)("div",{className:"flex items-center gap-3",children:(0,t.jsxs)(s.$,{onClick:v,variant:"outline",className:"text-primary border-primary hover:bg-primary/10 shadow-sm hover:shadow-md transition-shadow",children:[(0,t.jsx)(c.A,{className:"mr-2 h-5 w-5"}),"Yeni Birleştirme"]})})]})}),(0,t.jsxs)("main",{className:"flex-grow w-full py-8 px-0 sm:px-0 lg:px-0 flex flex-col",children:[p&&(0,t.jsxs)("div",{className:"flex-grow flex flex-col items-center justify-center text-lg text-primary p-8 mt-10 text-center",children:[(0,t.jsx)(m.A,{className:"h-20 w-20 animate-spin mb-6"}),(0,t.jsx)("p",{className:"text-2xl font-semibold",children:"Birleştirilmiş veriler y\xfckleniyor..."}),(0,t.jsx)("p",{className:"text-muted-foreground mt-2",children:"L\xfctfen bekleyin."})]}),!p&&a&&(a.headers.length>0||a.rows.length>0)&&(0,t.jsx)("div",{className:"px-0 sm:px-4 lg:px-6",children:(0,t.jsx)(n.H,{data:a,onAnalyzeDeletions:w,isAnalyzing:b})}),!p&&(!a||0===a.headers.length&&0===a.rows.length)&&(0,t.jsx)("div",{className:"flex-grow flex flex-col items-center justify-center mt-10 px-4 text-center",children:(0,t.jsxs)(u.Zp,{className:"w-full max-w-lg shadow-xl rounded-lg border border-border/50",children:[(0,t.jsxs)(u.aR,{className:"p-8",children:[(0,t.jsx)(d.A,{className:"h-20 w-20 text-destructive mx-auto mb-6"}),(0,t.jsx)(u.ZB,{className:"text-3xl font-bold text-foreground",children:"Veri Bulunamadı"})]}),(0,t.jsxs)(u.Wu,{className:"text-center pb-10 px-8",children:[(0,t.jsx)("p",{className:"text-muted-foreground text-md mb-8",children:"G\xf6r\xfcnt\xfclenecek birleştirilmiş veri bulunmamaktadır. Bu durum, daha \xf6nce bir birleştirme yapılmadığını veya saklanan verinin silinmiş/bozulmuş olabileceğini g\xf6sterir."}),(0,t.jsxs)(s.$,{onClick:v,className:"w-full sm:w-auto bg-primary hover:bg-primary/90 text-primary-foreground text-lg py-6 shadow-md hover:shadow-lg transition-shadow",children:[(0,t.jsx)(c.A,{className:"mr-2 h-5 w-5"}),"Yeni Birleştirme Yap"]})]})]})})]}),(0,t.jsxs)("footer",{className:"py-6 text-center text-sm text-muted-foreground border-t border-border/50 bg-card/50",children:["\xa9 ",new Date().getFullYear()," Excel Birleştirme Aracı."]})]})}},5029:(e,r,a)=>{Promise.resolve().then(a.bind(a,148))}},e=>{var r=r=>e(e.s=r);e.O(0,[668,579,560,441,684,358],()=>r(5029)),_N_E=e.O()}]);